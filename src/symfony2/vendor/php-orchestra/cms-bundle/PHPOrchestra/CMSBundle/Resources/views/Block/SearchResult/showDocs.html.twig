{##
 # This file is part of the PHPOrchestra\CMSBundle.
 #
 # @author Benjamin Fouch√© <benjamin.fouche@businessdecision.com>
 ##}
 <div id="docsid" class="showdoc">

 {# Display all documents in resultset #}
{% for doc in resultset %}
            <ul>
{#                 {{ dump() }}#}
                {% for fieldname, fieldvalue in doc %}
                    {% if firstField == fieldname %}
                        <li><a href="{{baseUrl}}{{ doc.url }}" class="doclink">{{ fieldvalue }}</a></li>
                    {% elseif fieldname in fieldsdisplayed %}
                        <li class="field">{{ fieldvalue | truncate(20, true, '...') }}</li>
                    {% endif %}
                {% endfor %}
            </ul>
{% endfor %}
</div>

{# Pagination #}
{% set nbpage = (resultset.numfound / nbdocs)| round(0, 'ceil') %}

{% if nbpage > 1 %}
<div class="pagination">
	<ul>
		{# We use range(a, b) function which create an array of value between a and b #}
		
		{% for p in range(1, nbpage ) %}
			<li{% if p == page %} class="btn-pagination"{% endif %}>
				<a href="{{ path('php_orchestra_cms_node', {'nodeId': nodeId, 'page': p, 'terms': data}) }}">{{ p }}</a>
			</li> 
		{% endfor %}
	</ul>
</div>
{% endif %}